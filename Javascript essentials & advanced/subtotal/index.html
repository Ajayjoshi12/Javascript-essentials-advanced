<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>

<style>
    .img-size{
        max-width: 150px;
        height: auto;
    }
</style>
</head>
<body onload="MyLoad()">
    <section>
        <div class="container" style="padding-top: 50px;">
            <table class="table table-bordered table-responsive-sm" id="table_1">
                <thead>
                  <tr>
                    <th>Product info</th>
                    <th>Quantity</th>
                    <th>Price (per unit)</th>
                    <th>Price (subtotal)</th>
                    <th>&nbsp;</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <img src="assets/img/item1.png" class="img-size" alt="">
                            <p>Fortunata</p>
                        </td>
                        <td> 
                            <input type="number" name="qty" value="1" class="form-control">
                        </td>
                        <td>
                            <input type="number" name="rate" value="29.99" class="form-control">
                        </td>
                        <td>
                            <input type="number" name="amt" value="29.99" class="form-control">
                        </td>
                        <td>
                            <button class="btn btn-danger" id="btn_1">Remove</button>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <img src="assets/img/item2.png" class="img-size" alt="">
                            <p>Woven</p>
                        </td>
                        <td>
                            <input type="number" name="qty" value="1" class="form-control">
                        </td>
                        <td>
                            <input type="number" name="rate" value="12.99" class="form-control">
                        </td>
                        <td>
                            <input type="number" name="amt" value="12.99" class="form-control">
                        </td>
                        <td>
                            <button class="btn btn-danger" id="btn_2">Remove</button>
                        </td>
                    </tr>
                    
                </tbody>
                <tfoot>
                    <tr>
                        <td>
                            &nbsp;
                        </td>
                        <td>
                            &nbsp;
                        </td>
                        <td>
                            &nbsp;
                        </td>
                        <td>
                            <input type="number" id="FTotal" name="FTotal" value="42.98" class="form-control">
                        </td>
                        <td>
                            &nbsp;
                        </td>
                    </tr>
                </tfoot>

            </table>
        </div>
    </section> 


    <script>
        function MyLoad(){
            const QtyCols = document.getElementsByName("qty");
            const RateCols = document.getElementsByName("rate");

            for(let index = 0; index < QtyCols.length; index++)
            {
                QtyCols[index].addEventListener("keyup", function()
                {
                    Calc(index);
                })


                RateCols[index].addEventListener("keyup", function()
                {
                    Calc(index);
                })
                
            }
            
        }


        function Calc(index){
            var qty = document.getElementsByName("qty")[index].value;
            var rate = document.getElementsByName("rate")[index].value;

            var amt = qty * rate;
            document.getElementsByName("amt")[index].value = amt;

            GetTotal();
        }


        function GetTotal(){

            var sum = 0;
            var amts = document.getElementsByName("amt");

            for(let index = 0; index < amts.length; index++)
            {
                var amt = amts[index].value;
                
                sum = +(sum) + +(amt);
            }

            document.getElementById("FTotal").value = sum;
            

        }
        

        document.getElementById("btn_1").addEventListener("click",()=>{
            var table = document.getElementById("table_1");
            table.deleteRow(1)
        })

        document.getElementById("btn_2").addEventListener("click",()=>{
            var table = document.getElementById("table_1");
            table.deleteRow(2)
        })

        // sum = sum + amt;
        // document.getElementsByName("FTotal")[0].value = sum;

       
    </script>
</body>
</html>